<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Node.js File Systems Module</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="../assets/classless.css" />
  <link rel="stylesheet" href="../assets/main.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
  <nav>
    <ul>
      <li><a href="..">← Home</a></li>
      <li><a href="../syllabus">?</a></li>
      <li><a href="../week1">1</a></li>
      <li><a href="../week2">2</a></li>
      <li><a href="../week3">3</a></li>
      <li><a href="../week4">4</a></li>
      <li><a href="../week5">5</a></li>
      <li><a href="../week6">6</a></li>
      <li><a href="../week7">7</a></li>
      <li><a href="../week8">8</a></li>
      <li><a href="../week9">9</a></li>
      <li><a href="../week10">10</a></li>
      <li><a href="../week11">11</a></li>
      <li><a href="../week12">12</a></li>
      <li><a href="../week13">13</a></li>
      <li><a href="../week14">14</a></li>
    </ul>
  </nav>
<header id="title-block-header">
<h1 class="title">Node.js File Systems Module</h1>
</header>
<h2 id="today">Today</h2>
<ul>
<li>File system with node.js</li>
<li>Final project studio time</li>
</ul>
<h1 id="working-with-servers">Working with servers</h1>
<h2 id="working-with-the-file-system-using-node.js">Working with the
file system using Node.js</h2>
<p>Node.js comes with a builtin file system module to work with a
computer’s file system, or for example on a server. It can <strong>read
files, create files, edit files, delete files, and rename
files.</strong></p>
<p>To use it, we must import it.</p>
<p>In Node.js we do this with the require statement.</p>
<pre><code>let fs = require(&#39;fs&#39;); </code></pre>
<p>Note: you may also see this written as
<code>const fs = require('fs');</code></p>
<h3 id="reading-a-file">Reading a file</h3>
<p>We can read from a file saved on a server. This can be a text file or
a json data file for example. We use the readfile module, part of
<code>fs</code>.</p>
<pre><code>fs.readFile()</code></pre>
<p>Example</p>
<p><strong>student.json</strong> file:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Layla&quot;</span><span class="fu">,</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;age&quot;</span><span class="fu">:</span> <span class="dv">22</span><span class="fu">,</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;department&quot;</span><span class="fu">:</span> <span class="st">&quot;Math and Computer Science&quot;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>script.js</strong> file</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> fs <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;fs&#39;</span>)<span class="op">;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>fs<span class="op">.</span><span class="fu">readFile</span>(<span class="st">&#39;student.json&#39;</span><span class="op">,</span> <span class="kw">function</span>(err<span class="op">,</span>data) {  </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (err) <span class="cf">throw</span> err<span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> student <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">parse</span>(data)<span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(student)<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;This is after the read call.&#39;</span>)<span class="op">;</span> </span></code></pre></div>
<p>These two files are in the same directory. We can run our script with
<code>node script.js</code></p>
<p>Doing so will print out:</p>
<pre><code>This is after the read call.
{ name: &#39;Layla&#39;,
age: 22,
department: &#39;Math and computer Science&#39; }</code></pre>
<p>Since Javascript is asynchronous, we start reading the student.json
file, and we have a callback function to run when finished. In the
meantime, we print to the console in the last line of our script. Our
readFile finally finishes and triggers the anonymous callback function
to run that parses our student json data and prints it out.</p>
<h3 id="writing-to-a-file">Writing to a file</h3>
<p>You can create a new text file in the file system with
<code>fs.writeFile()</code>. If the file already exists, it will
overwire the previous content.</p>
<p>You can also add text to the end of a file using
<code>fs.appendFile()</code>. This has the advantage of not overwriting
a file, and if it doesn’t already exist, it will create the file
first.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> fs <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;fs&#39;</span>)<span class="op">;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> myText <span class="op">=</span> <span class="st">&quot;This text and the random number &quot;</span><span class="op">+</span><span class="bu">Math</span><span class="op">.</span><span class="fu">random</span>()<span class="op">*</span><span class="dv">100</span><span class="op">+</span><span class="st">&quot; will be added to the end of the file. &quot;</span><span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>fs<span class="op">.</span><span class="fu">appendFile</span>(<span class="st">&#39;textFile.txt&#39;</span><span class="op">,</span> myText<span class="op">,</span> <span class="kw">function</span> (err) {</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (err) <span class="cf">throw</span> err<span class="op">;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Saved to textFile.txt!&#39;</span>)<span class="op">;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>Again, we can save this as a script file and run it with
<code>node script.js</code> or whatever we’ve named the file.</p>
<h3 id="resources">Resources</h3>
<ul>
<li>Node.js <a
href="https://www.w3schools.com/nodejs/nodejs_filesystem.asp">File
System</a> tutorial</li>
<li>Node.js <a
href="https://www.w3schools.com/nodejs/ref_modules.asp">modules</a></li>
</ul>
<h2 id="in-class-studio-time">In-class studio time</h2>
<ul>
<li>1-on-1 meetings</li>
</ul>
<h1 id="final-project">Final Project</h1>
<p>This semester we have built websites for our class, false or
misleading institutional websites, personalized clock programs, custom
web extensions that modify the browser, an experimental weather web
application.</p>
<p>We’ve covered ‘frontend’ programming including HTML, CSS and
Javascript, modifying the DOM, as well as working with servers on the
backend, creating and deploying node-based web applications with
interaction, data persistence and data/API queries.</p>
<p>For this assignment you will make a custom web application, either
your own idea, or building from the radio program we began in class.</p>
<h1 id="goals">Goals:</h1>
<ul>
<li>the site should be responsive - it must work well on the desktop and
mobile browsers</li>
<li>the site should have interactive elements - you will want to use
javascript</li>
<li>the design should be compelling and unique - no cookie cutter sites.
Question what the site is, the conventions of such sites, and make it
your own!</li>
<li>the site should be well-executed and original</li>
<li>Consider how your site works with data and APIs.</li>
</ul>
<p><strong>Final projects must be uploaded to the web by Wednesday May
15 at 3pm. Project presentations will be in class on May 8 3PM.</strong>
We will have a series of smaller steps to accomplish leading up to
that.</p>
<h1 id="example-unique-web-apps">Example unique web apps</h1>
<ul>
<li><a href="http://touched-some1.com">touched-some1</a> - For
Underneath The Skin</li>
<li><a href="http://follower.today">Follower</a> - art/performance
project and commentary</li>
<li><a href="http://binky.rocks">Binky</a> - App/Artwork</li>
<li><a href="http://somebodyapp.com">somebody app</a> - App/performance
project?</li>
</ul>
<h1 id="homework">Homework</h1>
<p>Get a first prototype ready!</p>
<p>Write a development log of half a page.</p>
<ul>
<li>What are/were your goals for the session?</li>
<li>What did you spend your time on during your work session(s)?</li>
<li>What worked?</li>
<li>Where are you stuck?</li>
<li>What are your next steps?</li>
<li>How does this fit into the overall project idea so far?</li>
</ul>
</body>
</html>
